#!/usr/bin/env bash

while getopts 'cbr' OPTION; do
    case "$OPTION" in
        c)
            docker compose down
            docker rmi $(docker images -f dangling=true -q)
            ;;
        b)
            npm run build 
            docker build -f Test_Env.Dockerfile . --target build-env -t bs-69/buildenv
            docker build -f Test_Env.Dockerfile . -t bs-69
            ;;
        r)
            docker compose up -d
            ;;
        *)
            echo "Invalid flag"
            exit 1
            ;;
    esac
done
